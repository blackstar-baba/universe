"use strict";(self.webpackChunkblackstar_universe=self.webpackChunkblackstar_universe||[]).push([[5398],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>f});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var d=a.createContext({}),s=function(e){var t=a.useContext(d),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},c=function(e){var t=s(e.components);return a.createElement(d.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,d=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=s(r),f=n,w=u["".concat(d,".").concat(f)]||u[f]||p[f]||i;return r?a.createElement(w,o(o({ref:t},c),{},{components:r})):a.createElement(w,o({ref:t},c))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,o=new Array(i);o[0]=u;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var s=2;s<i;s++)o[s]=r[s];return a.createElement.apply(null,o)}return a.createElement.apply(null,r)}u.displayName="MDXCreateElement"},586:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>s});var a=r(7462),n=(r(7294),r(3905));const i={},o=void 0,l={unversionedId:"Computer/columnar_storage_read_and_write",id:"Computer/columnar_storage_read_and_write",title:"columnar_storage_read_and_write",description:"description",source:"@site/docs/Computer/columnar_storage_read_and_write.md",sourceDirName:"Computer",slug:"/Computer/columnar_storage_read_and_write",permalink:"/docs/Computer/columnar_storage_read_and_write",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"what_is_cloud_native",permalink:"/docs/CloudNative/what_is_cloud_native"},next:{title:"cpu",permalink:"/docs/Computer/cpu"}},d={},s=[{value:"description",id:"description",level:2},{value:"Merge on read( fast write,slow read)",id:"merge-on-read-fast-writeslow-read",level:3},{value:"Copy on write(slow write, fast read)",id:"copy-on-writeslow-write-fast-read",level:3},{value:"Delta Store(slow(a bit) write,fast read).",id:"delta-storeslowa-bit-writefast-read",level:3},{value:"Delete + Insert(slow(a bit) write,fast read)",id:"delete--insertslowa-bit-writefast-read",level:3},{value:"link",id:"link",level:2}],c={toc:s};function p(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"description"},"description"),(0,n.kt)("p",null,"Some plans"),(0,n.kt)("h3",{id:"merge-on-read-fast-writeslow-read"},"Merge on read( fast write,slow read)"),(0,n.kt)("p",null,"append files, if need read,read base files and append files. e.g. LSM tree\\Hudi\\influxdb."),(0,n.kt)("h3",{id:"copy-on-writeslow-write-fast-read"},"Copy on write(slow write, fast read)"),(0,n.kt)("p",null,"write old files. e.g. Delta Lake\\Hudi\\Icebreg\\Snowflake."),(0,n.kt)("h3",{id:"delta-storeslowa-bit-writefast-read"},"Delta Store(slow(a bit) write,fast read)."),(0,n.kt)("p",null,"need primary Index, if write, save delta data into delta store,add new record in new file,  if read, read base files and delta store.  e.g. Kudu\\Many TP & HTAP Databases."),(0,n.kt)("h3",{id:"delete--insertslowa-bit-writefast-read"},"Delete + Insert(slow(a bit) write,fast read)"),(0,n.kt)("p",null,"need primary index. if write, use bitmap to mark delete record,add new record in new file.  if read, ignore delete recode which in bitmap. e.g. Alibaba ADB\\Hologres\\Sql Server Column store\\Starrocks Primary key."),(0,n.kt)("h2",{id:"link"},"link"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"How to get both read and write performance which one using columnar storage ",(0,n.kt)("a",{parentName:"li",href:"https://www.bilibili.com/video/BV1NU4y1f7HJ/?spm_id_from=333.788"},"https://www.bilibili.com/video/BV1NU4y1f7HJ/?spm_id_from=333.788"))))}p.isMDXComponent=!0}}]);